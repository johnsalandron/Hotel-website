<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Admin Room Panel</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="css/admin-style.css">
</head>

<body>
  <div class="sidebar">
    <h4><i class="bi bi-speedometer2 me-2"></i>Admin Panel</h4>
    <a href="#"><i class="bi bi-house-door-fill"></i> Rooms</a>
    <a href="index.html"><i class="bi bi-box-arrow-left"></i> Home</a>
  </div>

  <div class="main">
    <div class="row g-4 mb-4">
      <div class="col-md-3">
        <div class="card stat-card p-3">
          <div class="d-flex align-items-center">
            <div class="icon-circle me-3">
              <i class="bi bi-door-open-fill"></i>
            </div>
            <div>
              <small class="text-uppercase text-white-50">Total Rooms</small>
              <h4 id="totalRooms" class="mb-0">0</h4>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-9">
        <div class="card shadow-sm">
          <div class="card-header bg-primary text-white">
            <i class="bi bi-bar-chart-fill me-2"></i>Most Expensive Rooms
          </div>
          <div class="card-body">
            <canvas id="priceChart" height="70"></canvas>
          </div>
        </div>
      </div>
    </div>

    <h2><i class="bi bi-gear-fill me-2"></i>Room Management</h2>
    <button class="btn btn-success my-3" onclick="openModal()">
      <i class="bi bi-plus-circle me-1"></i> Add Room
    </button>

    <div class="table-responsive">
      <table class="table custom">
        <thead>
          <tr>
            <th><i class="bi bi-hash"></i></th>
            <th><i class="bi bi-images me-1"></i>Photos</th>
            <th><i class="bi bi-tag-fill me-1"></i>Name</th>
            <th><i class="bi bi-currency-dollar me-1"></i>Price</th>
            <th><i class="bi bi-moon-fill me-1"></i>Beds</th>
            <th><i class="bi bi-card-text me-1"></i>Description</th>
            <th><i class="bi bi-tools me-1"></i>Actions</th>
          </tr>
        </thead>
        <tbody id="room-table"></tbody>
      </table>
    </div>
  </div>

  <!-- Modal Editor -->
  <div class="modal fade" id="roomModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content bg-dark text-white p-3">
        <div class="modal-header border-secondary">
          <h5 class="modal-title" id="modalTitle">
            <i class="bi bi-pencil-square me-2"></i>Add Room
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <form id="roomForm">
          <input type="hidden" id="roomId" />
          <div class="row g-3 p-3">
            <div class="col-md-6">
              <label for="roomName" class="form-label"><i class="bi bi-tag-fill me-1"></i>Name:</label>
              <input id="roomName" class="form-control" required />
            </div>
            <div class="col-md-3">
              <label for="roomPrice" class="form-label"><i class="bi bi-currency-dollar me-1"></i>Price:</label>
              <input id="roomPrice" type="number" class="form-control" required />
            </div>
            <div class="col-md-3">
              <label for="roomBeds" class="form-label"><i class="bi bi-moon-fill me-1"></i>Beds:</label>
              <input id="roomBeds" type="number" class="form-control" required />
            </div>
            <div class="col-12">
              <label for="roomDesc" class="form-label"><i class="bi bi-card-text me-1"></i>Description:</label>
              <textarea id="roomDesc" class="form-control" required></textarea>
            </div>
            <div class="col-12">
              <label><i class="bi bi-images me-1"></i>Images (max 4)</label>
              <div id="imgUploader" class="img-uploader"></div>
            </div>
          </div>
          <div class="modal-footer border-secondary">
            <button type="button" class="btn btn-secondary me-auto" data-bs-dismiss="modal">
              <i class="bi bi-x-circle me-1"></i>Cancel
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="bi bi-save me-1"></i>Save
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/admin.js"></script>
</body>

</html>
